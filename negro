-- Carga la biblioteca de UI personalizada desde el archivo proporcionado
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/bunblox20/SONIC-BASICO/refs/heads/master/sonic2"))()

-- Crear la ventana principal
local Window = Library.CreateLib("Interfaz Personalizada", "RJTheme3")

-- Pestaña de teletransporte a tiendas
local ShopTab = Window:NewTab("Tiendas")
local ShopSection = ShopTab:NewSection("Teletransporte a Tiendas")

-- Función para crear un bloque protector debajo del jugador
local function createSafetyBlock()
    local block = Instance.new("Part")
    block.Size = Vector3.new(10, 1, 10)
    block.Anchored = true
    block.BrickColor = BrickColor.new("Bright blue")
    block.Material = Enum.Material.Neon
    block.Parent = game.Workspace

    -- Posicionar el bloque debajo del jugador
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local rootPart = character:WaitForChild("HumanoidRootPart")
    block.Position = rootPart.Position - Vector3.new(0, 3, 0)

    -- Eliminar el bloque después de 10 segundos
    game:GetService("Debris"):AddItem(block, 10)
end

-- Función para teletransportar al jugador a una posición
local function teleportPlayerTo(position)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local rootPart = character:WaitForChild("HumanoidRootPart")

    -- Crear el bloque protector antes de teletransportar
    createSafetyBlock()

    -- Teletransportar al jugador
    wait(0.5) -- Pequeña espera para garantizar la creación del bloque
    rootPart.CFrame = CFrame.new(position)
end

-- Coordenadas de las tiendas
local shopLocations = {
    {name = "Tienda Inicial", position = Vector3.new(1913.04, 19.03, -164.75)},
    {name = "Zona de Vender", position = Vector3.new(1365.58, 57.78, 119.72)},
    {name = "Tienda de Muebles", position = Vector3.new(-639.34, 97.28, 280.86)},
    {name = "Tienda de Lógica", position = Vector3.new(-5127.85, 76.91, -2849.70)},
    {name = "Tienda de Vehículos", position = Vector3.new(-6863.43, 40.25, -4341.31)},
    {name = "Tienda Misteriosa", position = Vector3.new(-5329.27, 138.35, -3450.57)},
    {name = "Tienda de Flores", position = Vector3.new(2108.07, -409.71, -260.98)},
    {name = "Tienda en la Cueva", position = Vector3.new(2133.29, -416.56, 3.05)},
    {name = "Laboratorio", position = Vector3.new(-4468.53, -195.77, -1980.78)},
}

-- Crear botones para cada tienda
for _, shop in ipairs(shopLocations) do
    ShopSection:NewButton(shop.name, "Teletransporta al jugador a " .. shop.name, function()
        teleportPlayerTo(shop.position)
    end)
end

-- Pestaña de créditos (opcional)
local CreditsTab = Window:NewTab("Créditos")
local CreditsSection = CreditsTab:NewSection("Creador")
CreditsSection:NewLabel("Adaptado por tu script original.")
CreditsSection:NewLabel("Funciones añadidas por ChatGPT.")
